<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
  		    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

	<!-- UI Framework setup -->
	<bean class="org.openmrs.ui.framework.StandardModuleUiConfiguration">
		<property name="moduleId" value="${project.parent.artifactId}"/>
	</bean>

    <!-- Apps -->
    <bean id="emrFindPatientApp" class="org.openmrs.module.appframework.SimpleAppDescriptor">
        <property name="id" value="emr.findPatient"/>
        <property name="label" value="Find a Patient"/>
        <property name="homepageUrl" value="emr/findPatient.page"/>
        <property name="iconUrl" value="moduleResources/uilibrary/images/folder_32.png"/>
    </bean>
    <bean id="emrArchivesRoomApp" class="org.openmrs.module.appframework.SimpleAppDescriptor">
        <property name="id" value="emr.archivesRoom"/>
        <property name="label" value="Archives Room"/>
        <property name="homepageUrl" value="emr/archivesRoom.page"/>
        <property name="iconUrl" value="moduleResources/uilibrary/images/folder_32.png"/>
    </bean>
    <bean id="emrActiveVisitsApp" class="org.openmrs.module.appframework.SimpleAppDescriptor">
        <property name="id" value="emr.activeVisits"/>
        <property name="label" value="Active Visits"/>
        <property name="homepageUrl" value="emr/activeVisits.page"/>
        <property name="iconUrl" value="moduleResources/uilibrary/images/home_back_32.png"/>
    </bean>
    <bean id="systemAdministrationApp" class="org.openmrs.module.appframework.SimpleAppDescriptor">
        <property name="id" value="emr.systemAdministration"/>
        <property name="label" value="System Administration"/>
        <property name="homepageUrl" value="emr/systemAdministration.page"/>
        <property name="iconUrl" value="moduleResources/uilibrary/images/settings-32.png"/>
    </bean>
    

    <!-- Tasks -->
    <bean id="emrOrderXrayTask" class="org.openmrs.module.emr.task.SimpleTaskDescriptor">
        <property name="id" value="emr.orderXray"/>
        <property name="labelCode" value="emr.task.orderXray.label"/>
        <property name="url" value="emr/orderXray.page"/>
        <property name="priority" value="20.2"/>
    </bean>
    <bean id="emrOrderUltrasoundTask" class="org.openmrs.module.emr.task.SimpleTaskDescriptor">
        <property name="id" value="emr.orderUltrasound"/>
        <property name="labelCode" value="emr.task.orderUltrasound.label"/>
        <property name="url" value="emr/orderUltrasound.page"/>
        <property name="priority" value="20.1"/>
    </bean>
    <bean id="emrOrderCTScanTask" class="org.openmrs.module.emr.task.SimpleTaskDescriptor">
        <property name="id" value="emr.orderCTScan"/>
        <property name="labelCode" value="emr.task.orderCTScan.label"/>
        <property name="url" value="emr/orderCTScan.page"/>
        <property name="priority" value="20"/>
    </bean>

    <!-- spike on implementing patientregistration as tasks -->
    <bean id="emrErCheckIn" class="org.openmrs.module.emr.task.EncounterWizardTaskDescriptor">
        <property name="id" value="patientregistration.erCheckIn"/>
        <property name="labelCode" value="emr.task.erCheckIn.label"/>
        <property name="configurationAsJson">
            <value>
                {
                    "titleCode": "patientregistration.erCheckIn",
                    "steps": [
                        {
                            "stepType": "pointOfCareChooseVisit"
                        },
                        {
                            "stepType": "obs",
                            "labelCode": "patientregistration.visitReason",
                            "concept": "GP:patientregistration.primaryCareReceptionVisitReasonConcept",
                            "questionType": "options",
                            "options": [
                                { "value": "3905ed77-c41c-400e-ba1f-67cee367d4fd", "labelCode": "patientregistration.medicalCertificateWithoutDiagnosis" },
                                { "value": "980a5495-0ee2-4050-9eee-ccff53561e13", "labelCode": "patientregistration.standardDentalVisit" }
                            ]
                        }
                    ]
                }
            </value>
        </property>
        <!--
        <property name="configurationAsXml">
            <value>
                <steps>
                    <emr:chooseVisit  titleCode="...">
                        <allowedVisitTypes></allowedVisitTypes>
                        <mode>POINT_OF_CARE</mode>
                    </emr:chooseVisit>
                    ...
                    <patientRegistration:printIdCard> -> org.openmrs.module.patientregistration.PrintIdCardStep
                        ...
                    </patientRegistration:printIdCard>
                </steps>

            </value>
        </property>
        -->
    </bean>

</beans>
